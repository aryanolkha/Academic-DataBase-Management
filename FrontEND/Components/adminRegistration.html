<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Registration Management</title>
    <style>body {
        font-family: 'Arial', sans-serif; /* Consistent font for the whole page */
        background-color: #f4f4f9; /* Light grey background for a softer look */
        display: flex;
        justify-content: center; /* Center the main content horizontally */
        align-items: center; /* Center the main content vertically */
        flex-direction: column; /* Align children elements in a column */
        height: 100vh; /* Full viewport height */
        color: #333; /* Dark grey color for text for better readability */
        text-align: center; /* Center-align text */
        padding: 20px; /* Padding around the body to prevent content from touching the edges */
    }
    
    #backToHomeBtn {
        position: absolute;
        top: 10px;
        left: 10px;
        background-color: #272259; /* Dark blue background */
        color: white;
        padding: 10px;
        font-size: 14px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
    }
    
    #registrationControls {
        background: white; /* White background for the form area */
        padding: 20px;
        border-radius: 8px; /* Rounded corners for the form container */
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); /* Subtle shadow for depth */
        width: 90%; /* Responsive width */
        max-width: 500px; /* Maximum width */
        margin-top: 20px; /* Space between h1 and the form */
    }
    
    h1 {
        margin-bottom: 20px; /* Spacing below the header */
    }
    
    form {
        display: flex;
        flex-direction: column; /* Stack form elements vertically */
    }
    
    label {
        font-weight: bold; /* Make labels bold */
        margin-top: 10px; /* Space above each label */
    }
    
    input[type="datetime-local"], select {
        width: 100%; /* Full width inputs */
        padding: 8px; /* Padding inside inputs */
        margin-top: 5px; /* Space above inputs */
        border: 1px solid #ccc; /* Subtle border for inputs */
        border-radius: 4px; /* Rounded corners for inputs */
    }
    
    button {
        background-color: #5c67f2; /* Bright blue background */
        color: white; /* White text */
        padding: 10px 15px; /* Padding around text */
        font-size: 16px; /* Larger font size */
        border: none; /* No border */
        border-radius: 5px; /* Rounded corners */
        margin-top: 20px; /* Space above button */
        cursor: pointer; /* Pointer cursor on hover */
        transition: background-color 0.3s; /* Smooth transition for hover effect */
    }
    
    button:hover {
        background-color: #5058e5; /* Slightly darker blue on hover */
    }
    
        
    </style>
    <link rel="stylesheet" href="style.css"> <!-- Ensure you have this CSS file for styling -->
</head>
<body>
    <button id="backToHomeBtn" style="position: absolute; top: 10px; left: 10px;">Back</button>
    <h1>Admin Registration Management</h1>
    <div id="registrationControls">
        <form id="semesterRegistrationForm" onsubmit="saveRegistrationDates(event)">
            <h2>Set Registration Period for Semesters</h2>
            <label for="semester">Select Semester:</label>
            <select id="semester" name="semester" required>
                <option value="">Select Semester</option>
                <option value="1">Semester 1</option>
                <option value="2">Semester 2</option>
                <option value="3">Semester 3</option>
                <option value="4">Semester 4</option>
                <option value="5">Semester 5</option>
                <option value="6">Semester 6</option>
                <option value="7">Semester 7</option>
                <option value="8">Semester 8</option>
                <!-- Add more semesters as needed -->
            </select>

            <label for="openDate">Registration Open Date:</label>
            <input type="datetime-local" id="openDate" name="openDate" required>

            <label for="closeDate">Registration Close Date:</label>
            <input type="datetime-local" id="closeDate" name="closeDate" required>

            <button type="submit">Save Dates</button>
        </form>
    </div>

    <script>

document.addEventListener("DOMContentLoaded", () => {
            document.getElementById('backToHomeBtn').addEventListener('click', function () {
                history.back(); // Go back to the previous page
            });
        });
        function saveRegistrationDates(event) {
            event.preventDefault(); // Prevent the form from submitting in the traditional way

            const semester = document.getElementById('semester').value;
            const openDate = document.getElementById('openDate').value;
            const closeDate = document.getElementById('closeDate').value;

            // Make sure the close date is after the open date
            if (new Date(openDate) >= new Date(closeDate)) {
                alert('The close date must be after the open date.');
                return;
            }

            fetch('http://localhost:5000/set-registration-dates', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ semester, openDate, closeDate })
            })
            .then(response => response.json())
            .then(data => {
                alert('Registration dates updated successfully.');
            })
            .catch(error => {
                console.error('Error updating registration dates:', error);
                alert('Failed to update registration dates.');
            });
        }
    </script>
</body>
</html>
